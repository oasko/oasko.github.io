<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>信息收集 | Asuna</title><meta name="author" content="Asuna"><meta name="copyright" content="Asuna"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="信息收集信息收集的重要性毋庸置疑 古今中外 生活的每个部分都离不开信息收集 强大的信息收集能力是制胜关键。渗透测试也不例外 有句话说得好 渗透测试的本质就是信息收集  信息收集通常分为  域名信息收集  子域名信息收集  站点信息收集  旁站信息收集  c端主机查询  敏感信息收集  服务器信息收集  端口信息收集  真实IP地址识别  主动信息收集   域名信息收集域名信息收集域名（英语：Dom">
<meta property="og:type" content="article">
<meta property="og:title" content="信息收集">
<meta property="og:url" content="https://oasko.github.io/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html">
<meta property="og:site_name" content="Asuna">
<meta property="og:description" content="信息收集信息收集的重要性毋庸置疑 古今中外 生活的每个部分都离不开信息收集 强大的信息收集能力是制胜关键。渗透测试也不例外 有句话说得好 渗透测试的本质就是信息收集  信息收集通常分为  域名信息收集  子域名信息收集  站点信息收集  旁站信息收集  c端主机查询  敏感信息收集  服务器信息收集  端口信息收集  真实IP地址识别  主动信息收集   域名信息收集域名信息收集域名（英语：Dom">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2025/02/01/wmdJujK4AO2iMYb.jpg">
<meta property="article:published_time" content="2025-01-25T01:09:17.000Z">
<meta property="article:modified_time" content="2025-02-01T11:03:54.009Z">
<meta property="article:author" content="Asuna">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2025/02/01/wmdJujK4AO2iMYb.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "信息收集",
  "url": "https://oasko.github.io/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/",
  "image": "https://s2.loli.net/2025/02/01/wmdJujK4AO2iMYb.jpg",
  "datePublished": "2025-01-25T01:09:17.000Z",
  "dateModified": "2025-02-01T11:03:54.009Z",
  "author": [
    {
      "@type": "Person",
      "name": "Asuna",
      "url": "https://oasko.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://oasko.github.io/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '信息收集',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="css/touming.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-image: url(https://s2.loli.net/2024/12/28/fdpLbCNQwExoPan.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://s2.loli.net/2025/01/19/47KGSaY3sudRFjV.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> tag</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 图书</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/chat/"><i class="fa-fw fa fa-lightbulb-o"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent;"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Asuna</span></a><a class="nav-page-title" href="/"><span class="site-name">信息收集</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首頁</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> tag</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 图书</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/chat/"><i class="fa-fw fa fa-lightbulb-o"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">信息收集</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-25T01:09:17.000Z" title="发表于 2025-01-25 09:09:17">2025-01-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-01T11:03:54.009Z" title="更新于 2025-02-01 19:03:54">2025-02-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">6.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>20分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><p>信息收集的重要性毋庸置疑 古今中外 生活的每个部分都离不开信息收集 强大的信息收集能力是制胜关键。渗透测试也不例外 有句话说得好 渗透测试的本质就是信息收集 </p>
<p>信息收集通常分为</p>
<ul>
<li><p>域名信息收集</p>
</li>
<li><p>子域名信息收集</p>
</li>
<li><p>站点信息收集</p>
</li>
<li><p>旁站信息收集</p>
</li>
<li><p>c端主机查询</p>
</li>
<li><p>敏感信息收集</p>
</li>
<li><p>服务器信息收集</p>
</li>
<li><p>端口信息收集</p>
</li>
<li><p>真实IP地址识别</p>
</li>
<li><p>主动信息收集</p>
</li>
</ul>
<h2 id="域名信息收集"><a href="#域名信息收集" class="headerlink" title="域名信息收集"></a>域名信息收集</h2><p>域名信息收集<br><strong>域名</strong>（英语：Domain Name），又称<strong>网域</strong>，是由一串用<strong>点分隔</strong>的名字组成的Internet上某<strong>一台计算机</strong>或<strong>计算机组</strong>的名称，用于在数据传输时对计算机的<strong>定位标识</strong>（有时也指地理位置）。由于IP地址具有<strong>不方便记忆</strong>并且<strong>不能显示地址组织</strong>的<strong>名称</strong>和<strong>性质</strong>等缺点，人们设计出了域名，并通过dns(Domain Name System)网域名称系统来将域名和IP地址<strong>相互映射</strong>，使人更方便地访问互联网，而不用去记住能够被机器直接读取的IP地址数串。</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="顶级域名-一级域名："><a href="#顶级域名-一级域名：" class="headerlink" title="顶级域名&#x2F;一级域名："></a>顶级域名&#x2F;一级域名：</h4><p>顶级域（或顶级域名，也称为一级域名），是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中。顶级域名是域名的最后一个部分，即是域名最后一点之后的字母，例如在<a target="_blank" rel="noopener" href="http://www.example.com这个域名中,顶级域是.com./">http://www.example.com这个域名中，顶级域是.com。</a></p>
<h4 id="二级域名："><a href="#二级域名：" class="headerlink" title="二级域名："></a>二级域名：</h4><p>除了顶级域名，还有二级域名，就是最靠近顶级域名左侧的字段。例如在<a target="_blank" rel="noopener" href="http://www.example.com这个域名中,example就是二级域名./">http://www.example.com这个域名中，example就是二级域名。</a></p>
<h4 id="子域名："><a href="#子域名：" class="headerlink" title="子域名："></a>子域名：</h4><p>子域名，在域名系统等级中，属于更高一层域的域。比如，mail.example.com和calendar.example.com是example.com的两个子域，而example.com则是顶级域.com的子域。凡顶级域名前加前缀的都是该顶级域名的子域名，而子域名根据技术的多少分为二级子域名，三级子域名以及多级子域名。</p>
<p>为什么要收集子域名</p>
<p>子域名枚举可以在<strong>测试范围</strong>内发现更多的<strong>域</strong>或<strong>子域</strong>，这将<strong>增大</strong>漏洞发现的<strong>几率</strong>。</p>
<p>有些<strong>隐藏的</strong>、<strong>被忽略</strong>的<strong>子域</strong>上运行的应用程序可能帮助我们发现<strong>重大漏洞</strong>。</p>
<p>在同一个组织的不同域或应用程序中往往存在相同的漏洞</p>
<p>假设我们的目标网络规模比较大，直接从主域入手显然是很不理智的，因为对于这种规模的目标，一般其<strong>主域</strong>都是<strong>重点防护区域</strong>，所以不如<strong>先进入目标的某个子域</strong>，然后再想办法迂回接近真正的目标，这无疑是个比较好的选择。</p>
<h5 id="利用在线工具查询"><a href="#利用在线工具查询" class="headerlink" title="利用在线工具查询"></a>利用在线工具查询</h5><p>网上有很多子域名的查询站点，可通过它们检索某个给定域名的子域名。如：</p>
<ul>
<li>DNSdumpster：<a target="_blank" rel="noopener" href="https://dnsdumpster.com/">https://dnsdumpster.com/</a><br></li>
<li>whois反查：<a target="_blank" rel="noopener" href="http://whois.chinaz.com/">http://whois.chinaz.com/</a><br></li>
<li>virustotal：<a target="_blank" rel="noopener" href="http://www.virustotal.com/">www.virustotal.com</a><br></li>
<li>子域名爆破：<a target="_blank" rel="noopener" href="https://phpinfo.me/domain/">https://phpinfo.me/domain/</a><br></li>
<li>IP反查绑定域名：<a target="_blank" rel="noopener" href="http://dns.aizhan.com/">http://dns.aizhan.com/</a><br> </li>
<li><a target="_blank" rel="noopener" href="https://hackertarget.com/">https://hackertarget.com/</a><br> </li>
<li>find-dns-host-records&#x2F;<br></li>
<li><a target="_blank" rel="noopener" href="https://site.ip138.com/">https://site.ip138.com</a></li>
</ul>
<h5 id="通过证书透明度公开日志枚举子域名"><a href="#通过证书透明度公开日志枚举子域名" class="headerlink" title="通过证书透明度公开日志枚举子域名"></a>通过证书透明度公开日志枚举子域名</h5><p>证书透明度是证书授权机构的一个项目，证书授权机构会将每个SSL&#x2F;TLS证书发布到公共日志中。一个SSL&#x2F;TLS证书通常包含域名、子域名和邮件地址，这些也经常成为攻击者非常希望获得的有用信息。</p>
<p>查找某个域名所属证书的最简单的方法就是使用搜索引擎来搜索一些公开的CT日志，例如以下网站：</p>
<p>crt.sh：<a target="_blank" rel="noopener" href="https://crt.sh/">https://crt.sh</a><br>censys：<a target="_blank" rel="noopener" href="https://censys.io/">https://censys.io</a></p>
<h5 id="子域名信息收集-聚合工具"><a href="#子域名信息收集-聚合工具" class="headerlink" title="子域名信息收集-聚合工具"></a>子域名信息收集-聚合工具</h5><p>聚合工具就是，结合和爆破，证书，搜索引擎，DNS解析记录等多个方式去探测子域名比如：oneforall</p>
<p>OneForAll(是一款集百家之长，功能强大的全面快速子域收集终极神器)</p>
<h6 id="安装工具"><a href="#安装工具" class="headerlink" title="安装工具"></a>安装工具</h6><p>oneforall<br>下载好OneForAll，进入到OneForAll的目录下，执行以下命令安装OneForAll所需的环境依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install -U pip setuptools wheel -i https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>

<p><img src="/images/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/oneforall.png" alt="oneforall"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>

<p><img src="/images/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/oneforall.png2" alt="oneforall"></p>
<p>subDomainBrute</p>
<p>subDomainsBrute是一款高并发的DNS暴力枚举工具</p>
<p>下载完之后 进入目录安装依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install dnspython gevent</span><br></pre></td></tr></table></figure>

<p><img src="/images/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/submain.png" alt="sub"></p>
<h5 id="kali的工具"><a href="#kali的工具" class="headerlink" title="kali的工具"></a>kali的工具</h5><p>在kali中的信息收集模块的DNS分析中，有很多工具可以进行域名信息收集</p>
<ul>
<li>Dnsenum：域名信息收集</li>
<li>Dnsmap：收集信息和枚举DNS信息</li>
<li>Dnsrecon：用于DNS侦察</li>
<li>Fierce ：子域名查询</li>
</ul>
<h5 id="windows的工具"><a href="#windows的工具" class="headerlink" title="windows的工具"></a>windows的工具</h5><p>Windows上的子域名查询工具主要由：</p>
<p>Layer子域名挖掘机<br>subDomainsbrute<br>K8<br>Sublist3r<br>Maltego</p>
<h3 id="Whois-查询"><a href="#Whois-查询" class="headerlink" title="Whois 查询"></a>Whois 查询</h3><p>whois 是用来查询域名的<strong>IP</strong>以及<strong>所有者</strong>等信息的传输协议。简单说，whois就是一个用来<strong>查询域名</strong>是否已经被注册，以及<strong>注册域名</strong>的<strong>详细信息</strong>的<strong>数据库</strong>（如域名所有人、域名注册商），不同域名后缀的Whois信息需要到<strong>不同</strong>的Whois数据库查询。通过whois来实现对域名信息的查询，可以得到注册人的<strong>姓名</strong>和邮<strong>箱信息</strong>通常对测试个人站点非常有用，因为我们可以通过搜索引擎和社交网络挖掘出域名所有人的很多信息。</p>
<h4 id="在线工具"><a href="#在线工具" class="headerlink" title="在线工具"></a>在线工具</h4><p><a target="_blank" rel="noopener" href="https://whois.chinaz.com/">https://whois.chinaz.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://mwhois.chinaz.com/">https://mwhois.chinaz.com/</a>  </p>
<p><a target="_blank" rel="noopener" href="https://whois.aizhan.com/">https://whois.aizhan.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://whois.aliyun.com/">https://whois.aliyun.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://whois.cnnic.cn/WelcomeServlet">https://whois.cnnic.cn/WelcomeServlet</a></p>
<h4 id="域名反查："><a href="#域名反查：" class="headerlink" title="域名反查："></a>域名反查：</h4><p><a target="_blank" rel="noopener" href="https://mwhois.chinaz.com/">https://mwhois.chinaz.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://whois.chinaz.com/">https://whois.chinaz.com/</a></p>
<h4 id="icp备案查询："><a href="#icp备案查询：" class="headerlink" title="icp备案查询："></a>icp备案查询：</h4><p><a target="_blank" rel="noopener" href="https://beian.mlit.gov.cn/">https://beian.mlit.gov.cn/</a></p>
<p><a target="_blank" rel="noopener" href="https://icp.chinaz.com/">https://icp.chinaz.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://beian88.com/">https://beian88.com/</a></p>
<h4 id="在线查询"><a href="#在线查询" class="headerlink" title="在线查询"></a>在线查询</h4><p>如今网上出现了一些网页接口简化的线上查询工具，可以一次向不同的数据库查询。网页接口的查询工具仍然依赖whois协议向服务器发送查询请求，命令列接口的工具仍然被系统管理员广泛使用。whois通常使用TCP协议43端口。每个域名&#x2F;IP的whois信息由对应的管理机构保存。</p>
<p>常见的网站包括：</p>
<ul>
<li><p>Whois站长之家查询：<a target="_blank" rel="noopener" href="http://whois.chinaz.com/">http://whois.chinaz.com/</a></p>
</li>
<li><p>阿里云中国万网查询：<a target="_blank" rel="noopener" href="https://whois.aliyun.com/">https://whois.aliyun.com/</a></p>
</li>
<li><p>Whois Lookup 查找目标网站所有者的信息：<a target="_blank" rel="noopener" href="http://whois.domaintools.com/">http://whois.domaintools.com/</a></p>
</li>
<li><p>Netcraft Site Report 显示目标网站上使用的技术：<a target="_blank" rel="noopener" href="http://toolbar.netcraft.com/site_report?url=">http://toolbar.netcraft.com/site_report?url=</a></p>
</li>
<li><p>Robtex DNS 查询显示关于目标网站的全面的DNS信息：<a target="_blank" rel="noopener" href="https://www.robtex.com/">https://www.robtex.com/</a></p>
</li>
<li><p>全球Whois查询：<a target="_blank" rel="noopener" href="https://www.whois365.com/cn/">https://www.whois365.com/cn/</a></p>
</li>
<li><p>站长工具爱站查询：<a target="_blank" rel="noopener" href="https://whois.aizhan.com/">https://whois.aizhan.com/</a></p>
</li>
</ul>
<p>还可以在Kali Linux下自带的Whois查询工具，通过命令Whois查询域名信息，只需输入要查询的域名即可</p>
<h4 id="备案信息查询"><a href="#备案信息查询" class="headerlink" title="备案信息查询"></a>备案信息查询</h4><p><strong>网站备案信息</strong>是根据<strong>国家法律法规规定</strong>，由<strong>网站所有者</strong>向国家<strong>有关部门</strong>申请的<strong>备案</strong>，是国家信息产业部对网站的一种管理途径，是为了防止在网上从事非法网站经营活动，当然主要是针对国内网站。</p>
<p>在备案查询中我们主要关注的是：单位信息例如<strong>名称</strong>、<strong>备案编号</strong>、<strong>网站负责人</strong>、<strong>法人</strong>、<strong>电子邮箱</strong>、<strong>联系电话</strong>等。</p>
<p>常用的备案信息查询网站有以下几个：</p>
<p>ICP&#x2F;IP地址&#x2F;域名信息备案管理系统：<a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/publish/query/indexFirst.action">http://beian.miit.gov.cn/publish/query/indexFirst.action</a></p>
<p>ICP备案查询网：<a target="_blank" rel="noopener" href="http://www.beianbeian.com/">http://www.beianbeian.com/</a></p>
<p>备案吧吧：<a target="_blank" rel="noopener" href="https://www.beian88.com/">https://www.beian88.com/</a></p>
<p>天眼查：<a target="_blank" rel="noopener" href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p>
<h2 id="站点信息收集"><a href="#站点信息收集" class="headerlink" title="站点信息收集"></a>站点信息收集</h2><p>接下来进行web网站站点信息收集，主要收集如下信息：</p>
<ul>
<li>CMS指纹识别</li>
<li>历史漏洞</li>
<li>脚本语言</li>
<li>敏感目录&#x2F;文件</li>
<li>Waf识别</li>
</ul>
<h3 id="CMS指纹识别"><a href="#CMS指纹识别" class="headerlink" title="CMS指纹识别"></a>CMS指纹识别</h3><p><strong>CMS</strong>（<strong>内容管理系统</strong>）又称为<strong>整站系统</strong>或<strong>文章系统</strong>，用于<strong>网站内容管理</strong>。用户只需要下载对应的CMS软件包，就能<strong>部署搭建</strong>，并<strong>直接利用</strong>CMS。但是各种CMS都具有其<strong>独特的结构命名规则</strong>和<strong>特定的文件内容</strong>，因此可以利用这些内容来获取<strong>CMS站点</strong>的<strong>具体软件CMS</strong>与<strong>版本</strong>。</p>
<p>指纹识别指的是通过关键特征，识别出目标的CMS系统、服务 器、开发语言、操作系统、CDN、WAF的类别版本等等</p>
<p>在渗透测试中，对进行指纹识别是相当有必要的，识别出相应的CMS，才能查找与其相关的漏洞，然后才能进行相应的渗透操作。</p>
<p>常见的CMS有Dedecms(织梦)、Discuz、PHPWEB、PHPWind、PHPCMS、ECShop、Dvbbs、SiteWeaver、ASPCMS、帝国、Z-Blog、WordPress等。</p>
<p>（1）在线识别</p>
<p>如今，网上一些在线的网站查询CMS指纹识别，如下所示：</p>
<ul>
<li>云悉：<a target="_blank" rel="noopener" href="http://www.yunsee.cn/info.html">http://www.yunsee.cn/info.html</a></li>
<li>BugScaner: <a target="_blank" rel="noopener" href="http://whatweb.bugscaner.com/look/">http://whatweb.bugscaner.com/look/</a></li>
<li>潮汐指纹：<a target="_blank" rel="noopener" href="http://finger.tidesec.net/">http://finger.tidesec.net/</a></li>
<li>云悉指纹: <a target="_blank" rel="noopener" href="http://www.yunsee.cn/finger.html">http://www.yunsee.cn/finger.html</a></li>
</ul>
<p>（2）利用工具</p>
<p>常见的CMS指纹识别工具有<strong>WhatWeb</strong>、<strong>WebRobo</strong>、<strong>椰树</strong>、<strong>御剑Web指纹识别</strong>。大禹CMS识别程序等，可以快速识别一些主流CMS。</p>
<p>当我们得知了一个站点的cms类型后，我们可以在网上查找与其相关的漏洞并进行相应的测试。</p>
<p>（3）手工识别</p>
<ol>
<li>根据HTTP响应头判断，重点关注<strong>X-Powered-By</strong>、<strong>cookie</strong>等字段</li>
<li>根据HTML 特征，重点关注 <strong>body</strong>、<strong>title</strong>、<strong>meta</strong>等标签的内容和属性。</li>
<li>根据特殊的t<strong>class</strong>判断。HTML 中存在特定 class 属性的某些 <strong>div 标签</strong>，如<body class="ke-content"></body></li>
</ol>
<h3 id="敏感目录-文件收集"><a href="#敏感目录-文件收集" class="headerlink" title="敏感目录&#x2F;文件收集"></a>敏感目录&#x2F;文件收集</h3><p>也就是对<strong>目标网站</strong>做个<strong>目录扫描</strong>。在web渗透中，探测Web目录结构和隐藏的敏感文件是一个十分重要的环节，从中可以获取网站的<strong>后台管理页面</strong>、<strong>文件上传界面</strong>、<strong>robots.txt</strong>，甚至可能扫描出<strong>备份文件</strong>从而得到网站的<strong>源代码</strong>。</p>
<p>目录扫描可以让我们发现这个网站存在<strong>多少个目录</strong>，多少个<strong>页面</strong>，探索出网站的<strong>整体结构</strong>。通过目录扫描我们还能扫描<strong>敏感文件</strong>，<strong>后台文件</strong>，<strong>数据库文件</strong>，和<strong>信息泄漏文件</strong>等等</p>
<h4 id="常见目录泄露"><a href="#常见目录泄露" class="headerlink" title="常见目录泄露"></a>常见目录泄露</h4><p><strong>目录遍历漏洞</strong>(程序在实现上没有<strong>充分过滤</strong>用户输入的..&#x2F;之类的<strong>目录跳转符</strong>，导致恶意用户可以通过提交目录跳转来遍历服务器上的任意文件。)</p>
<p>robots.txt          允许爬虫爬取的页面</p>
<p>sitemap.xml     指导搜索引擎搜索哪些页面 列出了网站的所有重要页面，帮助搜索引擎更好地索引网页。</p>
<p>网站的备份文件 &#x2F; 数据</p>
<p>后台登录的目录： &#x2F;admin， &#x2F;manage</p>
<p>安装包（源码）列如：1.zip，非开源，商用</p>
<p>上传的目录： 文件上传漏洞，  &#x2F;upload，&#x2F;upload.php</p>
<p>php探针(是用来监控服务器的工具，它可以显示服务器的运行状况，如硬盘使用、内存占用、网络流量、系统负载和当前时间等信息。)： phpinfo(，用于显示 PHP 配置和系统信息)，</p>
<p>文本编辑器： kindeditor，CKeditor ， Ueditor，文件上传漏洞、命令注入(如果没有严格的验证和清理，攻击者可能利用这些编辑器进行文件上传攻击、命令注入或跨站脚本攻击（XSS）)</p>
<h4 id="常见的网站目录的扫描工具主要有："><a href="#常见的网站目录的扫描工具主要有：" class="headerlink" title="常见的网站目录的扫描工具主要有："></a>常见的网站目录的扫描工具主要有：</h4><ul>
<li>御剑后台扫描工具</li>
<li>dirbuster扫描工具</li>
<li>dirsearch扫描工具</li>
<li>dirb</li>
<li>wwwscan</li>
<li>Sensitivefilescan</li>
</ul>
<h3 id="Waf识别"><a href="#Waf识别" class="headerlink" title="Waf识别"></a>Waf识别</h3><p><strong>Web应用防护系统</strong>（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）。利用国际上公认的一种说法：Web应用防火墙是通过执行一系列针对<strong>HTTP&#x2F;HTTPS</strong>的安全策略来专门为Web应用提供保护的一款产品。</p>
<h4 id="waf介绍"><a href="#waf介绍" class="headerlink" title="waf介绍"></a>waf介绍</h4><p>WAF分为<strong>非嵌入型WAF和嵌入型WAF</strong>，非嵌入型WAF指的是<strong>硬件型WAF</strong>、<strong>云WAF</strong>、<strong>软件型WAF</strong>之类的；而嵌入型WAF指的是网站<strong>内置的WAF</strong></p>
<p>非嵌入型WAF对Web流量的解析完全是<strong>靠自身</strong>，而嵌入型WAF拿到的Web数据是<strong>已经被解析加工好的</strong>。所以非嵌入型的受攻击机面还涉及到其他层面，</p>
<p>而嵌入型WAF从Web容器模块型WAF、代码层WAF往下走，其对抗畸形报文、扫操作绕过的能力越来越强。</p>
<h4 id="wafoof"><a href="#wafoof" class="headerlink" title="wafoof"></a>wafoof</h4><p><strong>wafw00f</strong>是一个Web应用防火墙（WAF）指纹识别的工具。</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p>下载完之后 进入目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py install</span><br></pre></td></tr></table></figure>

<h4 id="wafw00f的工作原理："><a href="#wafw00f的工作原理：" class="headerlink" title="wafw00f的工作原理："></a>wafw00f的工作原理：</h4><ol>
<li><p>发送<strong>正常</strong>的<strong>HTTP请求</strong>，然后<strong>分析响应</strong>，这可以识别出很多WAF。</p>
</li>
<li><p>如果不成功，它会发送一些（可能是恶意的）HTTP请求，使用简单的<strong>逻辑推断</strong>是哪一个WAF。</p>
</li>
<li><p>如果这也不成功，它会分析之前返回的响应，使用<strong>其它简单的算法猜测</strong>是否有某个WAF或者安全解决方案响应了我们的攻击。</p>
</li>
</ol>
<h3 id="敏感信息收集"><a href="#敏感信息收集" class="headerlink" title="敏感信息收集"></a>敏感信息收集</h3><p>有时候，针对某些安全做得很好的目标，直接通过技术层面是无法完成渗透测试的。此时，便可以利用<strong>搜索引擎搜索</strong>目标<strong>暴露在互联网上</strong>的<strong>关联信息</strong>。例如：<strong>数据库文件</strong>、<strong>SQL注入</strong>、<strong>服务配置信息</strong>，甚至是通过Git找到<strong>站点</strong>泄露源代码，以及<strong>Redis</strong>等未授权访问、<strong>Robots.txt</strong>等敏感信息，从而达到渗透目的。</p>
<p>Google hacking</p>
<ul>
<li><strong>intext</strong>：寻找正文中含有关键字的网页</li>
<li><strong>intitle</strong>：寻找标题中含有关键字的网页</li>
<li><strong>allintitle</strong>：用法和intitle类似，只不过可以指定多个词</li>
<li><strong>inurl</strong>：搜索url中含有关键词的网页</li>
<li><strong>allinurl</strong>：用法和inurl类似，只不过可以指定多个词</li>
<li><strong>site</strong>：指定访问的站点</li>
<li><strong>filetype</strong>：指定访问的文件类型</li>
<li><strong>link</strong>：指定链接的网页</li>
<li><strong>related</strong>：搜索相似类型的网页</li>
<li><strong>info</strong>：返回站点的指定信息，例如：info:<a target="_blank" rel="noopener" href="http://www.baidu.-/">www.baidu.-</a> com   将返回百度的一些信息</li>
<li><strong>phonebook</strong>：电话簿查询美国街道地址和电话号码信息</li>
<li><strong>Index of</strong>：利用 Index of 语法可以发现允许目录浏览的web网站，就像在本地的普通目录一样</li>
</ul>
<h3 id="Github信息泄露"><a href="#Github信息泄露" class="headerlink" title="Github信息泄露"></a>Github信息泄露</h3><p>itHub作为开源代码平台，给程序员提供了很多便利，但如果使用不当，比如将包含了账号密码、密钥等配置文件的代码上传了，导致攻击者能发现并进一步利用这些泄露的信息，就是一个典型的GitHub敏感信息泄露漏洞，再如开发人员在开发时，常常会先把源码提交到github，最后再从远程托管网站把源码pull到服务器的web目录下，如果忘记把.git文件删除，就造成此漏洞。利用.git文件恢复网站的源码，而源码里可能会有数据库的信息，</p>
<h2 id="旁站信息收集"><a href="#旁站信息收集" class="headerlink" title="旁站信息收集"></a>旁站信息收集</h2><p>旁站是与攻击目标在同一服务器上的不同网站,在攻击目标没有漏洞的情况 下,可以通过查找旁站的漏洞攻击旁站,然后再通过提权拿到服务器的最高权限,拿到服务器的最高权限后攻击目标也就拿下了</p>
<h3 id="查询旁站的方式"><a href="#查询旁站的方式" class="headerlink" title="查询旁站的方式"></a>查询旁站的方式</h3><p>获取旁站一般有这个几个方式：</p>
<ol>
<li>通过站长工具进行同IP的查询</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://stool.chinaz.com/same">https://stool.chinaz.com/same</a></p>
<p><a target="_blank" rel="noopener" href="https://chapangzhan.com/">https://chapangzhan.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.webscan.cc/">https://www.webscan.cc/</a></p>
<ol start="2">
<li><p>搜索引擎搜索</p>
</li>
<li><p>网络空间探测引擎搜索</p>
</li>
</ol>
<h2 id="c端主机查询"><a href="#c端主机查询" class="headerlink" title="c端主机查询"></a>c端主机查询</h2><p>C段查询主要是当前的IP攻击不下来的时候，可以攻击他的C段，比如IP是220.181.34.34是我们的目标，但是攻击不下来，可以去扫描220.181.34.0-255这个网段，看看能不能攻击下来</p>
<p>对于单独网站的渗透测试，C段扫描意义不大。C段指的是同一内网段内的其他服务器</p>
<h3 id="nmap扫描c端主机"><a href="#nmap扫描c端主机" class="headerlink" title="nmap扫描c端主机"></a>nmap扫描c端主机</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn -ip/24</span><br></pre></td></tr></table></figure>

<h3 id="搜索引擎C段信息"><a href="#搜索引擎C段信息" class="headerlink" title="搜索引擎C段信息"></a>搜索引擎C段信息</h3><p>使用google或者百度进行语法搜索 site:x.x.x.*进行C段的探测</p>
<h3 id="c端扫描的工具扫描"><a href="#c端扫描的工具扫描" class="headerlink" title="c端扫描的工具扫描"></a>c端扫描的工具扫描</h3><h3 id="使用网络空间探测引擎-IP-”XXX-XXX-XXX-0-24”"><a href="#使用网络空间探测引擎-IP-”XXX-XXX-XXX-0-24”" class="headerlink" title="使用网络空间探测引擎 IP&#x3D;”XXX.XXX.XXX.0&#x2F;24”"></a>使用网络空间探测引擎 IP&#x3D;”XXX.XXX.XXX.0&#x2F;24”</h3><h3 id="存活资产探测"><a href="#存活资产探测" class="headerlink" title="存活资产探测"></a>存活资产探测</h3><p>C段+全段口会生成很多资产，但是其中会有不能访问的，所以我们需要资产探活。</p>
<p>用EHole工具</p>
<h2 id="服务器信息收集"><a href="#服务器信息收集" class="headerlink" title="服务器信息收集"></a>服务器信息收集</h2><p>我们还需要对目标服务器的信息进行收集，主要包括一下部分：</p>
<ul>
<li>Web服务器指纹识别</li>
<li>真实IP地址识别</li>
<li>编程语言</li>
<li>Web中间件</li>
<li>端口信息收集</li>
<li>后端存储技术识别</li>
</ul>
<p>Web服务器指纹识别<br>Web服务器指纹识别是了解正在运行的web服务器类型和版本，目前市场上存在几种不同的web服务器提供商和软件版本，了解被测试的web服务器的类型，能让测试者更好去测试已知漏洞和大概的利用方法，将会在渗透测试过程中有很大的帮助，甚至会改变测试的路线。</p>
<h3 id="Web服务器指纹识别主要识别一下信息："><a href="#Web服务器指纹识别主要识别一下信息：" class="headerlink" title="Web服务器指纹识别主要识别一下信息："></a>Web服务器指纹识别主要识别一下信息：</h3><p>1、Web服务器<strong>名称</strong>，<strong>版本</strong></p>
<p>2、Web服务器<strong>后端</strong>是否有<strong>应用服务器</strong></p>
<p>3、<strong>数据库</strong>(DBMS)是否**部署在同一主机(host)**，数据库类型</p>
<p>4、Web应用使用的<strong>编程语言</strong></p>
<p>5、Web<strong>应用框架</strong></p>
<h4 id="手工检测"><a href="#手工检测" class="headerlink" title="手工检测"></a>手工检测</h4><ol>
<li><p>HTTP头分析<br>即查看HTTP响应头中的<strong>Server</strong>、<strong>X-Powered-By</strong>、<strong>Cookie</strong> 等字段，这也是最基本的方法。</p>
</li>
<li><ol start="2">
<li>协议行为<br>即从<strong>HTTP头字段顺序分析</strong>，观察HTTP响应头的<strong>组织顺序</strong>，因为每个服务器都有一个内部的H<strong>TTP头排序</strong>方法。</li>
</ol>
</li>
<li><p>浏览并观察网站<br>我们可以观察网站某些位置的<strong>HTML源码</strong>(<strong>特殊的class名称</strong>)及其<strong>注释(comment)部分</strong>，可能暴露有价值信息。观察<strong>网站页面后缀</strong>可以判断Web应用使用的编程语言和框架。</p>
</li>
<li><p>刻意构造错误<br>错误页面可以给你提供关于服务器的大量信息。可以通过构造含有随机字符串的URL，并访问它来尝试得到404页面。</p>
</li>
</ol>
<h4 id="利用工具识别"><a href="#利用工具识别" class="headerlink" title="利用工具识别"></a>利用工具识别</h4><p><strong>whatweb</strong>是一款用于辅助的自动化Web应用指纹分析工具</p>
<h2 id="真实IP地址识别"><a href="#真实IP地址识别" class="headerlink" title="真实IP地址识别"></a>真实IP地址识别</h2><p>我们平时使用浏览器，使用的都是<strong>域名</strong>，域名的存在是为了方便人的记忆，其实浏览器本质还是<strong>访问真实IP地址</strong>来获取页面的。</p>
<p>在渗透测试中，一般只会给你一个域名，那么我们就要根据这个域名来确定目标服务器的真实IP，我们可以通过像<a target="_blank" rel="noopener" href="http://www.ip138.com这样的ip查询网直接获取目标的一些ip及域名信息,但这里的前提是目标服务器**没有使用cdn/">www.ip138.com这样的IP查询网直接获取目标的一些IP及域名信息，但这里的前提是目标服务器**没有使用CDN</a>**</p>
<p>找到真实的IP我们就可以访问这个IP的C段和端口，方便进一步渗透，</p>
<h3 id="什么是CDN"><a href="#什么是CDN" class="headerlink" title="什么是CDN"></a>什么是CDN</h3><p>CDN的全称是Content Delivery Network，即<strong>内容分发网络</strong>。企业利用分布在<strong>不同区域</strong>的<strong>节点服务器群组</strong>成流量分配<strong>管理平台</strong>，为用户提供内容<strong>分散存储</strong>和<strong>高速缓存服务</strong></p>
<h3 id="CDN的优势"><a href="#CDN的优势" class="headerlink" title="CDN的优势"></a>CDN的优势</h3><ol>
<li><p>提高用户访问速率，优化用户使用体验</p>
</li>
<li><p>隐藏真实服务器的IP</p>
</li>
<li><p>提供WAF功能，目前很多CDN也提供了WAF的功能，我们的访问请求会先经过CDN节点的过滤，该过滤可对SQL注入、XSS、Webshell上传、命令注入、恶意扫描等攻击行为进行有效检测和拦截。CDN节点将认为无害的数据提交给真实的主机服务器。</p>
</li>
</ol>
<h3 id="CDN几种访问方式的不同"><a href="#CDN几种访问方式的不同" class="headerlink" title="CDN几种访问方式的不同"></a>CDN几种访问方式的不同</h3><ol>
<li>传统访问：用户访问域名–&gt;解析服务器IP–&gt;访问目标主机</li>
<li>普通CDN：用户访问域名–&gt;CDN节点–&gt;真实服务器IP–&gt;访问目标主机</li>
<li>带WAF的CDN：用户访问域名–&gt;CDN节点（云WAF）–&gt;真实服务器IP–&gt;访问目标主机</li>
</ol>
<p>我们也可以<strong>设置代理</strong>或者通过在线ping网站来在不同地区进行ping测试，然后对比每个地区ping出的IP结果，查看这些IP是否一致，<strong>一致</strong>，则极有可能<strong>不存在CDN</strong>。根据 CDN 的工作原理，如果网站使用了 CDN，那么从<strong>全国各地访问网站</strong>的 IP 地址是<strong>各个 CDN 节点的 IP 地址</strong>，那么如果ping出来的IP<strong>大多不太一样</strong>或者<strong>规律性很强</strong>，可以尝试查询这些IP的归属地，判断是否存在CDN。有以下网站可以进行ping测试：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://ping.chinaz.com/</span><br><span class="line">https://www.wepcc.com</span><br><span class="line">https://www.17ce.com</span><br></pre></td></tr></table></figure>

<p>SearchMap判断目标有没有使用CDN</p>
<p>searchmap是一款集域名解析、IP反查域名、WHOIS查询、CDN检测、端口扫描、目录扫描、子域名挖掘为一体的前渗透测试综合信息收集工具</p>
<h3 id="如何绕过CDN找到目标真实IP？"><a href="#如何绕过CDN找到目标真实IP？" class="headerlink" title="如何绕过CDN找到目标真实IP？"></a>如何绕过CDN找到目标真实IP？</h3><ol>
<li><p>利用子域名。一般来说很多站长可能只会对主站或者流量较大的分站使用CDN，但是一些流量比较小的分站可能没有挂CDN，这些分站和主站虽然不是同一个IP但是都在同一个C段下面的情况，所以我们可以通过ping二级域名获取分站lP，从而能判断出目标的真实IP段。</p>
<br></li>
<li><p>查询主域。以前用CDN的时候有个习惯，只让WWW域名使用cdn，秃域名不使用，为的是在维护网站时更方便，不用等cdn缓存。所以试着把目标网站的www去掉，ping一下看ip是不是变了</p>
<br></li>
<li><p>扫描网站敏感文件，如phpinfo.php等，从而找到目标的真实IP。</p>
<br></li>
<li><p>从国外访问。国内很多CDN厂商因为各种原因只做了国内的线路，而针对国外的线路可能几乎没有，此时我们使用国外的主机直接访问可能就能获取到真实P。我们可以通过国外在线代理网站访问，可能会得到真实的IP地址，</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://host-tracker.com/</span><br><span class="line"></span><br><span class="line">http://www.webpagetest.org/</span><br><span class="line"></span><br><span class="line">https://asm.ca.com/en/ping.php</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>查看域名历史解析记录。也许目标很久之前没有使用CDN，所以可能会存在使用 CDN 前的记录。所以可以通过</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">https://dnsdb.io/zh-cn/</span><br><span class="line"></span><br><span class="line"> https://x.threatbook.cn</span><br><span class="line"></span><br><span class="line"> https://viewdns.info/iphistory/</span><br><span class="line"></span><br><span class="line"> https://site.ip138.com/</span><br><span class="line"> </span><br><span class="line"> https://www.netcraft.com</span><br><span class="line"></span><br><span class="line"> https://viewdns.info/</span><br></pre></td></tr></table></figure>
<p>等网站来观察域名的IP历史记录。</p>
</li>
<li><p>Nslookup查询。查询域名的NS记录、MX记录、TXT记录等很有可能指向的是真实ip或同C段服务器。</p>
</li>
<li><p>利用网络空间搜索引擎。这里主要是利用网站返回的内容寻找真实原始IP，如果原始服务器IP也返回了网站的内容，那么可以在网上搜索大量的相关数据。最常见的网络空间搜索引擎有如下：</p>
</li>
</ol>
<ul>
<li>Shodan：<a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io/</a></li>
<li>钟馗之眼：<a target="_blank" rel="noopener" href="https://www.zoomeye.org/">https://www.zoomeye.org/</a></li>
<li>FOFA：<a target="_blank" rel="noopener" href="https://fofa.so/">https://fofa.so/</a></li>
</ul>
<ol start="8">
<li>利用网站漏洞。比如有代码执行漏洞、SSRF、存储型的XSS都可以让服务器主动访问我们预设的web服务器，那么就能在日志里面看见目标网站服务器的真实IP。</li>
</ol>
<h2 id="端口信息收集"><a href="#端口信息收集" class="headerlink" title="端口信息收集"></a>端口信息收集</h2><p>查看本机端口</p>
<p>netstat命令</p>
<ol>
<li><p>nmap工具加Zenmap工具加Masscan工具扫描<br>zenmap是nmap的图形化界面<br>masscan高速端口扫描工具</p>
</li>
<li><p>由于使用工具通常会在目标网站留下痕迹，接下来提供一种在线网站探测方法。</p>
</li>
</ol>
<ul>
<li>在线网站：<a target="_blank" rel="noopener" href="http://tool.chinaz.com/port/">http://tool.chinaz.com/port/</a></li>
<li>ThreatScan在线网站（网站基础信息收集）：<a target="_blank" rel="noopener" href="https://scan.top15.cn/">https://scan.top15.cn/</a></li>
<li>Shodan：<a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io/</a></li>
</ul>
<h2 id="主动信息收集"><a href="#主动信息收集" class="headerlink" title="主动信息收集"></a>主动信息收集</h2><p>主动信息收集通常是在被动信息收集之后分析出重要攻击⾯或者⽬标重要信息的时候再针对性地去做主动信息收集，</p>
<p>在主动信息收集的时候通常持续时间⽐较⻓⽽且会通过各种不同的⽅式与⽬标交互。实战中最常⽤的⼿段是模拟或者伪装正常的业务流程与⽬标交互。</p>
<p>主动信息搜集之前我们一定要挂上代理，一方面是为了隐藏自己，一方面是为了防止测试的时候被封ip导致无法进行继续的渗透活动。</p>
<h3 id="操作系统识别"><a href="#操作系统识别" class="headerlink" title="操作系统识别"></a>操作系统识别</h3><p>Windows的TTL的值是128，而Linux的TTL大多是64。（默认情况下）</p>
<h3 id="服务版本识别"><a href="#服务版本识别" class="headerlink" title="服务版本识别"></a>服务版本识别</h3><p>流量包中的关键字</p>
<p>servers-db（nmap所维护的一个数据库，其中包含了各种网络服务的版本信息的特征数据，通过对目标服务发起请求，从响应中提取特征数据跟数据库中进行比对，就能识别出对应的版本）</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_64177395/article/details/141267567">https://blog.csdn.net/qq_64177395/article/details/141267567</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/0daybug/p/13800776.html">https://www.cnblogs.com/0daybug/p/13800776.html</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://oasko.github.io">Asuna</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://oasko.github.io/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">https://oasko.github.io/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://oasko.github.io" target="_blank">Asuna</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="https://s2.loli.net/2025/02/01/wmdJujK4AO2iMYb.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://s2.loli.net/2025/01/19/47KGSaY3sudRFjV.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Asuna</div><div class="author-info-description">Do not go gentle into that good night</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">祝你青葱加鱼块 烧油又紫菜</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text">信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">域名信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.1.</span> <span class="toc-text">分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B6%E7%BA%A7%E5%9F%9F%E5%90%8D-%E4%B8%80%E7%BA%A7%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">顶级域名&#x2F;一级域名：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">二级域名：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">子域名：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.1.3.1.</span> <span class="toc-text">利用在线工具查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E8%AF%81%E4%B9%A6%E9%80%8F%E6%98%8E%E5%BA%A6%E5%85%AC%E5%BC%80%E6%97%A5%E5%BF%97%E6%9E%9A%E4%B8%BE%E5%AD%90%E5%9F%9F%E5%90%8D"><span class="toc-number">1.1.1.3.2.</span> <span class="toc-text">通过证书透明度公开日志枚举子域名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E8%81%9A%E5%90%88%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.1.3.3.</span> <span class="toc-text">子域名信息收集-聚合工具</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.1.3.3.1.</span> <span class="toc-text">安装工具</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#kali%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.1.3.4.</span> <span class="toc-text">kali的工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#windows%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.1.3.5.</span> <span class="toc-text">windows的工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Whois-%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.2.</span> <span class="toc-text">Whois 查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">在线工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E5%8F%8D%E6%9F%A5%EF%BC%9A"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">域名反查：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#icp%E5%A4%87%E6%A1%88%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">icp备案查询：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">在线查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.1.2.5.</span> <span class="toc-text">备案信息查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%99%E7%82%B9%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.2.</span> <span class="toc-text">站点信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CMS%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB"><span class="toc-number">1.2.1.</span> <span class="toc-text">CMS指纹识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E7%9B%AE%E5%BD%95-%E6%96%87%E4%BB%B6%E6%94%B6%E9%9B%86"><span class="toc-number">1.2.2.</span> <span class="toc-text">敏感目录&#x2F;文件收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9B%AE%E5%BD%95%E6%B3%84%E9%9C%B2"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">常见目录泄露</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BD%91%E7%AB%99%E7%9B%AE%E5%BD%95%E7%9A%84%E6%89%AB%E6%8F%8F%E5%B7%A5%E5%85%B7%E4%B8%BB%E8%A6%81%E6%9C%89%EF%BC%9A"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">常见的网站目录的扫描工具主要有：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Waf%E8%AF%86%E5%88%AB"><span class="toc-number">1.2.3.</span> <span class="toc-text">Waf识别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#waf%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">waf介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wafoof"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">wafoof</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.3.2.1.</span> <span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wafw00f%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9A"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">wafw00f的工作原理：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.2.4.</span> <span class="toc-text">敏感信息收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Github%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2"><span class="toc-number">1.2.5.</span> <span class="toc-text">Github信息泄露</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%81%E7%AB%99%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.3.</span> <span class="toc-text">旁站信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%97%81%E7%AB%99%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.1.</span> <span class="toc-text">查询旁站的方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E7%AB%AF%E4%B8%BB%E6%9C%BA%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.</span> <span class="toc-text">c端主机查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nmap%E6%89%AB%E6%8F%8Fc%E7%AB%AF%E4%B8%BB%E6%9C%BA"><span class="toc-number">1.4.1.</span> <span class="toc-text">nmap扫描c端主机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8EC%E6%AE%B5%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.2.</span> <span class="toc-text">搜索引擎C段信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c%E7%AB%AF%E6%89%AB%E6%8F%8F%E7%9A%84%E5%B7%A5%E5%85%B7%E6%89%AB%E6%8F%8F"><span class="toc-number">1.4.3.</span> <span class="toc-text">c端扫描的工具扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E6%8E%A2%E6%B5%8B%E5%BC%95%E6%93%8E-IP-%E2%80%9DXXX-XXX-XXX-0-24%E2%80%9D"><span class="toc-number">1.4.4.</span> <span class="toc-text">使用网络空间探测引擎 IP&#x3D;”XXX.XXX.XXX.0&#x2F;24”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E6%B4%BB%E8%B5%84%E4%BA%A7%E6%8E%A2%E6%B5%8B"><span class="toc-number">1.4.5.</span> <span class="toc-text">存活资产探测</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.5.</span> <span class="toc-text">服务器信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB%E4%B8%BB%E8%A6%81%E8%AF%86%E5%88%AB%E4%B8%80%E4%B8%8B%E4%BF%A1%E6%81%AF%EF%BC%9A"><span class="toc-number">1.5.1.</span> <span class="toc-text">Web服务器指纹识别主要识别一下信息：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%A3%80%E6%B5%8B"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">手工检测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%B7%A5%E5%85%B7%E8%AF%86%E5%88%AB"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">利用工具识别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9C%9F%E5%AE%9EIP%E5%9C%B0%E5%9D%80%E8%AF%86%E5%88%AB"><span class="toc-number">1.6.</span> <span class="toc-text">真实IP地址识别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFCDN"><span class="toc-number">1.6.1.</span> <span class="toc-text">什么是CDN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">1.6.2.</span> <span class="toc-text">CDN的优势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN%E5%87%A0%E7%A7%8D%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F%E7%9A%84%E4%B8%8D%E5%90%8C"><span class="toc-number">1.6.3.</span> <span class="toc-text">CDN几种访问方式的不同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%95%E8%BF%87CDN%E6%89%BE%E5%88%B0%E7%9B%AE%E6%A0%87%E7%9C%9F%E5%AE%9EIP%EF%BC%9F"><span class="toc-number">1.6.4.</span> <span class="toc-text">如何绕过CDN找到目标真实IP？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.7.</span> <span class="toc-text">端口信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.8.</span> <span class="toc-text">主动信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%86%E5%88%AB"><span class="toc-number">1.8.1.</span> <span class="toc-text">操作系统识别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%89%88%E6%9C%AC%E8%AF%86%E5%88%AB"><span class="toc-number">1.8.2.</span> <span class="toc-text">服务版本识别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">2.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/31/lookup-%E6%95%99%E7%A8%8B/" title="lookup 教程"><img src="https://s2.loli.net/2025/02/01/21dnkp68VGWhuQD.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="lookup 教程"/></a><div class="content"><a class="title" href="/2025/01/31/lookup-%E6%95%99%E7%A8%8B/" title="lookup 教程">lookup 教程</a><time datetime="2025-01-31T11:07:31.000Z" title="发表于 2025-01-31 19:07:31">2025-01-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/31/network-%E7%BD%91%E7%BB%9C%E6%A6%82%E5%BF%B5/" title="network 网络概念">network 网络概念</a><time datetime="2025-01-31T10:20:52.000Z" title="发表于 2025-01-31 18:20:52">2025-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/Bricks-Heist-%E6%95%99%E7%A8%8B/" title="Bricks Heist 教程"><img src="https://s2.loli.net/2025/02/01/9PhqARN1ybnjfkJ.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bricks Heist 教程"/></a><div class="content"><a class="title" href="/2025/01/25/Bricks-Heist-%E6%95%99%E7%A8%8B/" title="Bricks Heist 教程">Bricks Heist 教程</a><time datetime="2025-01-25T14:12:02.000Z" title="发表于 2025-01-25 22:12:02">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集"><img src="https://s2.loli.net/2025/02/01/wmdJujK4AO2iMYb.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息收集"/></a><div class="content"><a class="title" href="/2025/01/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集">信息收集</a><time datetime="2025-01-25T01:09:17.000Z" title="发表于 2025-01-25 09:09:17">2025-01-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/23/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E4%B9%8B%E6%90%9C%E7%B4%A2/" title="信息搜集之搜索">信息搜集之搜索</a><time datetime="2025-01-23T00:54:54.000Z" title="发表于 2025-01-23 08:54:54">2025-01-23</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Asuna</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'oasko/Giscus-demo',
      'data-repo-id': 'R_kgDONt6VLw',
      'data-category-id': 'DIC_kwDONt6VL84CmPGu',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><div class="aplayer no-destroy" data-id="7495004841" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>